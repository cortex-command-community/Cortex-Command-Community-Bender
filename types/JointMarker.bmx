'//// JOINT MARKER //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

Type JointMarker
	Field m_ParentTilePosOnCanvas:SVec2I

	Field m_PosOnTileX:Int
	Field m_PosOnTileY:Int
	Field m_PosOnCanvasX:Int
	Field m_PosOnCanvasY:Int

	Field m_Radius:Int

'////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	Method New(parentTilePos:SVec2I, centerPosX:Int, centerPosY:Int, radius:Int)
		m_ParentTilePosOnCanvas = parentTilePos
		m_Radius = radius
		SetPosOnTile(centerPosX, centerPosY)
		SetPosOnCanvas(centerPosX, centerPosY)
	EndMethod

'////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	Method GetPosOnTileX:Int()
		Return m_PosOnTileX
	EndMethod

'////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	Method GetPosOnTileY:Int()
		Return m_PosOnTileX
	EndMethod

'////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	Method SetPosOnTile(centerPosX:Int, centerPosY:Int)
		m_PosOnTileX = centerPosX
		m_PosOnTileY = centerPosY
	EndMethod

'////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	Method GetPosOnCanvasX:Int()
		Return m_PosOnCanvasX
	EndMethod

'////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	Method GetPosOnCanvasY:Int()
		Return m_PosOnCanvasY
	EndMethod

'////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	Method SetPosOnCanvas(centerPosX:Int, centerPosY:Int)
		m_PosOnCanvasX = m_ParentTilePosOnCanvas[0] + centerPosX
		m_PosOnCanvasY = m_ParentTilePosOnCanvas[1] + centerPosY
	EndMethod

'////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	Method Draw()
		Local shadowOffset:Int = 1
		SetColor(0, 0, 80)
		DrawLine(m_PosOnCanvasX - m_Radius + shadowOffset, m_PosOnCanvasY + shadowOffset, m_PosOnCanvasX + m_Radius + shadowOffset, m_PosOnCanvasY + shadowOffset, True)
		DrawLine(m_PosOnCanvasX + shadowOffset, m_PosOnCanvasY - m_Radius + shadowOffset, m_PosOnCanvasX + shadowOffset, m_PosOnCanvasY + m_Radius + shadowOffset, True)

		SetColor(255, 230, 80)
		DrawLine(m_PosOnCanvasX - m_Radius, m_PosOnCanvasY, m_PosOnCanvasX + m_Radius, m_PosOnCanvasY, True)
		DrawLine(m_PosOnCanvasX, m_PosOnCanvasY - m_Radius, m_PosOnCanvasX, m_PosOnCanvasY + m_Radius, True)
	EndMethod
EndType