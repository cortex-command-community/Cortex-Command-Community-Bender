Import PUB.LibPNG

'//// PNG UTILITY FUNCTIONS /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

Type UtilityPNG

'////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	Function PNGWrite(pngPtr:Byte Ptr, buf:Byte Ptr, size:Int)
		Local outputStream:TStream = TStream(png_get_io_ptr(pngPtr))
		Return outputStream.WriteBytes(buf, size)
	EndFunction

'////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	Function PNGFlush(pngPtr:Byte Ptr)
		Local outputStream:TStream = TStream(png_get_io_ptr(pngPtr))
		FlushStream(outputStream)
	EndFunction
EndType

'////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

Extern
	Function png_set_PLTE(png_ptr:Byte Ptr, info_ptr:Byte Ptr, palette:Byte Ptr, num_palette:Int) = "bmx_png_set_PLTE"
EndExtern